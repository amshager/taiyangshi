diff --git a/CODEX1/index.html b/CODEX1/index.html
index e711aa206a7ef2f8960461ac31669ff3ba84ded1..d3f428a9a3c6e6aea3943feb49df4bd0f51270be 100644
--- a/CODEX1/index.html
+++ b/CODEX1/index.html
@@ -161,51 +161,84 @@
         </div>
         <div>
           <label for="latInput">纬度 (°N)</label>
           <input type="number" id="latInput" step="0.0001" />
         </div>
       </div>
       <div class="btn-row">
         <button type="button" id="applyBtn">计算真太阳时</button>
         <button type="button" class="btn-secondary" id="nowBtn">使用当前北京时</button>
       </div>
       <div class="status" id="status"></div>
     </section>
 
     <section class="panel">
       <div class="result">
         <div class="time" id="trueTime">--:--:--</div>
         <div class="meta" id="metaInfo">等待输入。</div>
       </div>
     </section>
 
     <footer>
       公式：真太阳时 = 北京时 + 均时差(EOT) + 4 × (经度 - 120°) 分钟。
     </footer>
   </div>
 
-  <script src="./lib/astronomy.browser.min.js"></script>
+  <script>
+    function loadAstronomyScript() {
+      const candidates = [
+        "./lib/astronomy.browser.min.js",
+        "lib/astronomy.browser.min.js",
+        "/CODEX1/lib/astronomy.browser.min.js",
+        "/codex1/lib/astronomy.browser.min.js"
+      ];
+
+      return new Promise((resolve, reject) => {
+        let index = 0;
+
+        function tryNext() {
+          if (index >= candidates.length) {
+            reject(new Error("Astronomy script not found"));
+            return;
+          }
+
+          const src = candidates[index++];
+          const script = document.createElement("script");
+          script.src = src;
+          script.async = false;
+          script.onload = () => resolve(src);
+          script.onerror = () => {
+            script.remove();
+            tryNext();
+          };
+          document.head.appendChild(script);
+        }
+
+        tryNext();
+      });
+    }
+  </script>
   <script>
     const BEIJING_TZ = 8;
     const DEFAULT_LON = 116.4074;
     const DEFAULT_LAT = 39.9042;
 
     const dateInput = document.getElementById("dateInput");
     const timeInput = document.getElementById("timeInput");
     const lonInput = document.getElementById("lonInput");
     const latInput = document.getElementById("latInput");
     const statusEl = document.getElementById("status");
     const trueTimeEl = document.getElementById("trueTime");
     const metaInfoEl = document.getElementById("metaInfo");
 
     function formatTwo(n) {
       return String(n).padStart(2, "0");
     }
 
     function formatBeijingDate(date) {
       const utcMs = date.getTime() + date.getTimezoneOffset() * 60000;
       const bj = new Date(utcMs + BEIJING_TZ * 3600000);
       const y = bj.getUTCFullYear();
       const m = formatTwo(bj.getUTCMonth() + 1);
       const d = formatTwo(bj.getUTCDate());
       return `${y}-${m}-${d}`;
     }
@@ -247,32 +280,41 @@
       const lat = parseFloat(latInput.value);
 
       if (!dateStr || !timeStr || Number.isNaN(lon) || Number.isNaN(lat)) {
         statusEl.textContent = "请完整填写日期、时间与经纬度。";
         return;
       }
 
       const utcDate = buildUtcFromBeijing(dateStr, timeStr);
       const eotMin = Astronomy.EquationOfTime(utcDate);
       const lonCorrectionMin = (lon - 120) * 4;
       const trueSolarMs = utcDate.getTime() + (eotMin + lonCorrectionMin) * 60000;
 
       trueTimeEl.textContent = formatClockFromUtc(trueSolarMs);
       metaInfoEl.textContent = `北京时: ${dateStr} ${timeStr} | EOT: ${eotMin.toFixed(2)} min | 经度修正: ${lonCorrectionMin.toFixed(2)} min | 坐标: ${lat.toFixed(4)}N, ${lon.toFixed(4)}E`;
     }
 
     function setDefaultNow() {
       const now = new Date();
       dateInput.value = formatBeijingDate(now);
       timeInput.value = formatBeijingTime(now);
       lonInput.value = DEFAULT_LON;
       latInput.value = DEFAULT_LAT;
       update();
     }
 
-    document.getElementById("applyBtn").addEventListener("click", update);
-    document.getElementById("nowBtn").addEventListener("click", setDefaultNow);
+    function init() {
+      document.getElementById("applyBtn").addEventListener("click", update);
+      document.getElementById("nowBtn").addEventListener("click", setDefaultNow);
+      setDefaultNow();
+    }
 
-    setDefaultNow();
+    loadAstronomyScript()
+      .then(() => {
+        init();
+      })
+      .catch(() => {
+        statusEl.textContent = "Astronomy 引擎未加载，请确认 /lib/astronomy.browser.min.js 路径是否正确。";
+      });
   </script>
 </body>
 </html>
